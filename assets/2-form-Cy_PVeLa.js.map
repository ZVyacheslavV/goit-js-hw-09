{"version":3,"file":"2-form-Cy_PVeLa.js","sources":["../../src/js/2-form.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  feedbackForm: document.querySelector('.feedback-form'),\n};\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\n\n//Retrieving data from local storage\nconst savedData = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)) ?? {};\n\nrefs.feedbackForm.elements.email.value = savedData.email ?? '';\nrefs.feedbackForm.elements.message.value = savedData.message ?? '';\n\nconst formData = {\n  email: savedData.email ?? '',\n  message: savedData.message ?? '',\n};\n\n//Collecting data from inputs with destructuring of the target object\nrefs.feedbackForm.addEventListener('input', e => {\n  const { name, value } = e.target;\n  formData[name] = value.trim();\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(formData));\n});\n\n//Form-submit with resets and void check\nrefs.feedbackForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  if (!formData.email || !formData.message)\n    return iziToast.info({\n      message: 'Fill please all fields!',\n      position: 'center',\n      timeout: 1500,\n    });\n  console.log(formData);\n\n  formData = { email: '', message: '' };\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n  refs.feedbackForm.reset();\n});\n\n//Another variant (addition) from teacher:\n/* document.addEventListener('DOMContentLoaded', () => {\n  const savedData = JSON.parse(localStorage.getItem(localStorageKey)) ?? {};\n\n  refs.feedbackForm.elements.email.value = savedData.email ?? '';\n  refs.feedbackForm.elements.message.value = savedData.message ?? '';\n});\n\nfunction saveToLS(key, value) {\n  return localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getFromLS(key, defaultValue) {\n  const jsonData = localStorage.getItem(key);\n  try {\n    return JSON.parse(jsonData);\n  } catch {\n    defaultValue || jsonData;\n  }\n} */\n"],"names":["refs","LOCAL_STORAGE_KEY","savedData","formData","e","name","value","iziToast"],"mappings":"yCAGA,MAAMA,EAAO,CACX,aAAc,SAAS,cAAc,gBAAgB,CACvD,EACMC,EAAoB,sBAGpBC,EAAY,KAAK,MAAM,aAAa,QAAQD,CAAiB,CAAC,GAAK,GAEzED,EAAK,aAAa,SAAS,MAAM,MAAQE,EAAU,OAAS,GAC5DF,EAAK,aAAa,SAAS,QAAQ,MAAQE,EAAU,SAAW,GAEhE,MAAMC,EAAW,CACf,MAAOD,EAAU,OAAS,GAC1B,QAASA,EAAU,SAAW,EAChC,EAGAF,EAAK,aAAa,iBAAiB,QAASI,GAAK,CAC/C,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAE,OAC1BD,EAASE,CAAI,EAAIC,EAAM,KAAI,EAC3B,aAAa,QAAQL,EAAmB,KAAK,UAAUE,CAAQ,CAAC,CAClE,CAAC,EAGDH,EAAK,aAAa,iBAAiB,SAAUI,GAAK,CAGhD,GAFAA,EAAE,eAAc,EAEZ,CAACD,EAAS,OAAS,CAACA,EAAS,QAC/B,OAAOI,EAAS,KAAK,CACnB,QAAS,0BACT,SAAU,SACV,QAAS,IACf,CAAK,EACH,QAAQ,IAAIJ,CAAQ,EAEpBA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnC,aAAa,WAAWF,CAAiB,EACzCD,EAAK,aAAa,OACpB,CAAC"}